# Загальні відомості про C

**C**  — універсальна, процедурна, імперативнамова програмування загального призначення, розроблена у 1972 році Деннісом Рітчі у Bell Telephone Laboratories з метою написання нею операційної системи UNIX.

Хоча С і було розроблено для написання системного програмного забезпечення, наразі вона досить часто використовується для написання прикладного програмного забезпечення.

С імовірно, є найпопулярнішою у світі мовою програмування за кількістю вже написаного нею програмного забезпечення, доступного під вільними ліцензіями коду та кількості програмістів, котрі її знають. Версії компіляторів для мови С існують для багатьох операційних систем та апаратних архітектур. C здійснила великий вплив на інші мови програмування, особливо на C++, яку спочатку проектували як розширення для С, а також на Java та C#, які запозичили у С синтаксис.

## Філософія
С — мінімалістична мова програмування. Серед її головних цілей: можливість прямолінійної реалізації компіляції, використовуючи відносно простий компілятор, забезпечити низькорівневий доступ до оперативної пам'яті, формувати лише кілька інструкцій машинної мови для кожного елементу мови і не вимагати великої динамічної підтримки. У результаті код С придатний для більшості системного програмного забезпечення, яке традиційно писали асемблером.

Незважаючи на її низькорівневі можливості, мову проектували для машинно-незалежного програмування. Сумісна зі стандартами та машинно-незалежно написана мовою C програма може легко компілюватися на великій кількості апаратних платформ та операційних систем з мінімальними змінами. Мова стала доступною для великої кількості платформ - від вбудованих мікроконтролерів до суперкомп'ютерів.

### Мінімалізм
Мову С проектували з розрахунком на те, щоб використовувати у системному програмуванні. Отже, вона не вимагає додаткового часу на виконання перевірок різноманітних умов, які ніколи не відбудуться у правильно написаній програмі, а забезпечує простий, прямий доступ до адреси будь-якого об'єкта (наприклад, карти пам'яті, пристрою контролю регістрів), і її початковий код компілюється у послідовність примітивних машинних операцій.

Б'ярн Страуструп якось написав про неї: «С робить так, щоб вам було легко вистрілити собі в ногу» Іншими словами, С дозволяє здійснення низки операцій, котрі часто є небажаними, а тому чимало помилок у коді не виявляє компілятор, і вони не можуть бути очевидними під час виконання. Якщо під час програмування та підтримки програмного забезпечення не дотримуватися низки суворих правил, пізніше може виникнути немало проблем зі швидкодією, стабільністю та безпекою програмного забезпечення. (Хоча, виною подібних проблем найчастіше є програмісти, бо С сама по собі забезпечує низький рівень захисту).

З часом було розроблено багато утиліт для додаткових перевірок коду на наявність помилок перед компіляцією та під час його роботи. Ніщо не заважає компіляторові здійснювати додаткові перевірки коду, не передбачені специфікацією мови, однак для деякого системного програмного забезпечення вони є неприпустимими, бо зменшують швидкість виконання коду.

У відповідь на критику мови C як сильно типізованої мови Керніган та Рітчі послалися на основу філософії дизайну C: «Тим не менш, C зберігає основний принцип, який передбачає, що програмісти добре знають, що вони роблять, і вимагає лише, щоб вони чітко давали компіляторові знати про свої наміри».[6][7]

## Характеристика
Як і більшість імперативних мов, заснованих на традиції АЛГОЛ, C має можливості для структурного програмування і дозволяє здійснювати рекурсії, у той час, як система статичної типізації даних запобігає виникненню багатьох непередбачуваних операцій. У С увесь виконуваний код міститься у функціях. Параметри функції завжди передаються за значеннями. Передача параметрів за вказівником реалізовується шляхом передачі значення вказівника. Гетерогенні сукупності типів даних (структури) дозволяють пов'язаним типам даних бути об'єднаними і маніпулювати ними, як єдиним цілим.

C також має такі специфічні властивості:

* змінні можуть бути прихованими у вкладених блоках
слабка типізація; наприклад, символи можуть використовуватися, як цілі числа
* низькорівневий доступ до оперативної пам'яті шляхом перетворення машинних адрес на вказівники
* вказівники на функції і дані підтримують динамічний поліморфізм
* індексація масивів як вторинне поняття, визначається у термінах арифметики вказівників
* стандартизований препроцесор C для макроозначення, включення файлу з джерельним кодом, умовної трансляції тощо.
* відсутність вбудованих операторів вводу-виводу, потоків, обробки рядків і чисел з рухомою комою. Вся ця функціональність реалізується у бібліотеках виконання.
* відносно невелика кількість зарезервованих слів (32 у С89, і 37 у C99)
* Лексичні структури, які нагадують B більше за ALGOL, наприклад:
{ ... } на відміну від ALGOL'івського begin ... end
	* знак рівності для призначення (копіювання), як це робиться у мові Fortran
	* два знаки рівності використовуються для перевірки рівності (подібно до .EQ. у Fortran'і або одного знаку рівності у BASIC)
	* && та || на відміну від ALGOL'івських and та or (цим вона семантично відрізняється від бітових операторів & та |).
	* велика кількість арифметичних і логічних операторів, на кшталт +=, ++, &=,……

## Відсутня функціональність

С має брак наступних можливостей, які є в інших мовах програмування, (хоча далеко не завжди брак деяких можливостей, наявних в якихось мовах, є недоліком):

* Відсутність нескалярних операцій, на зразок копіювання масивів або рядків.
* Відсутність автоматичного керування пам'яттю (збір сміття)
* Відсутня перевірка меж масиву
* Відсутність напів-динамічних масивів аж до С99
* Відсутність синтаксису для масивів, на зразок А..В, котрі використовують, як старіші, так і новіші мови програмування
* Відсутність вкладених функцій (хоча, ця можливість є з деякими компіляторами, наприклад GCC). Однак знову ж, є суперечливою сама потреба вкладених функцій.
* Відсутність обробки винятків
* Відсутність рудиментарної підтримки модульного програмування
* Відсутність статичного поліморфізму у формі перевантаження функцій або операторів
* Відсутність підтримки об'єктно-орієнтованого програмування
* Відсутність вбудованої підтримки багатозадачності та роботи з мережами, хоча ці можливості забезпечуються популярними бібліотеками
* Відсутність стандартних бібліотек для роботи з графікою та деяких інших бібліотек для прикладного програмування



Можливості мови підвищуються у спосіб використання сторонніх бібліотек. Більшість об'єктно-орієнтованих функцій включають спеціальний вказівник «цей»(this у C++,Java), який посилається на поточний об'єкт. Передаючи цей вказівник як аргумент функції у С, ті ж функціональні можливості можуть бути використані у С. Для прикладу, у C++ можна написати:

 stack->push(val);
у той час, як у С це виглядало б, приміром, так:

 push(stack, val);
де аргумент stack у С є вказівником на структуру (struct), що є еквівалентною цьому вказівнику у С++, який є вказівником на об'єкт.

## Історія
### Рання розробка
Початковий етап розробки Сі відбувся у стінах Bell Labs між 1969 та 1973 роками; Деніс Рітчі стверджує, що найбільш творчим був 1972 рік. Мову було названо «Сі» через те, що багато її можливостей було отримано від раніше створеної мови B.


До 1974 року мова С стала достатньо функціональною для того, щоб переписати на ній більшу частину ядра UNIX, котре спершу було написане на асемблері PDP-11. Це було перше ядро операційної системи реалізоване не на асемблері.


### K&R C
У 1978 році Рітчі та Керніган опублікували першу редакцію книги «Мова програмування Сі». Ця книга, відома серед програмістів як «K&R». Описану у ній версію мови Сі, часто називають «K&R». Друга редакція цієї книги присвячена пізнішому стандарту ANSI C, описаному нижче.

K&R описує такі особливості мови:

* Тип даних struct
* Тип даних long int
* Тип даних unsigned int
Оператор =- було змінено на -=, щоби позбутися семантичної двозначності створюваної конструкціями, на зразок i=-10, яка могла інтерпретуватися, як i =- 10 або i = -10
K&R часто вважають найголовнішою частиною мови, яку повинен підтримувати компілятор С. Багато років, навіть після виходу ANSI C, він вважався мінімальним рівнем, якого слід було дотримуватися програмістам, охочим добитися від своїх програм максимальної портативності, оскільки не всі компілятори тоді підтримували ANSI C, а код на K&R C був сумісним і з ANSI C.

У ранніх версіях C, лише функції, що повертають значення з типом відмінним від int повинні були бути оголошеними, якщо вони використовувалися перед визначенням функції; функції без попереднього оголошення повинні повертати лише ціле число.

Для прикладу: long int SomeFunction(); int OtherFunction();

```c
int CallingFunction()
{
 long int test1;
 int test2;

 test1 = SomeFunction();
 if (test1 > 0) test2 = 0;
     else test2 = OtherFunction();

 return test2;
}
```

У цьому прикладі, як SomeFunction, так і OtherFunction були оголошені перед своїм використанням. У K&R оголошенням OtherFunction можна було знехтувати.


### ANSI C
Наприкінці 1970-х, мова C випередила BASIC, і стала найпопулярнішою мовою програмування для мікрокомп'ютерів. Протягом 1980-х, її прийняли для використання в IBM PC, і її популярність почала зростати досить стрімкими темпами. У той же час, Бьярн Страуструп та інші працівники Bell Labs розпочали роботу над доданням об'єктно-орієнтованих конструкцій до C, що призвело до виникнення C++.

У 1983, Американський Національний Інститут Стандартів (ANSI) сформував комітет X3J11 для створення стандартної специфікації для мови C. У 1989, стандарт був ратифікований як ANSI X3.159-1989 «Мова Програмування C». Цю версію часто називають ANSI C, Стандартний C, або С89.

У 1990, стандарт (з декількома незначними модифікаціями) ANSI C ратифікувала Міжнародна Організація із Стандартизації (ISO), ISO/IEC 9899:1990. Цю версію іноді називають C90. Тому, терміни «C89» і «C90» по суті, позначають одну мову.

ANSI, як і інші інститути із стандартизації, більше самотужки не займається розвитком стандарту мови програмування С. Прийняття стандарту національними інститутами, як правило, відбувається протягом року після публікації стандарту ANSI.



C89 наразі підтримується усіма компіляторами С, і більшість існуючого коду написано на базі даного стандарту. Будь-яка програма написана на стандартній С, і без використання апаратно залежних засобів може бути скомпільована і запущена на будь-якій операційній системі та апаратній архітектурі без будь-яких обмежень ресурсів.

### Стандарт C99
Докладніше: С99
Після процесу стандартизації ANSI, специфікація мови C протягом якогось часу залишилася відносно статичною, тоді як C++ продовжувала еволюціонувати, у значній мірі завдяки своїм власним зусиллям зі стандартизації. Нормативна Поправка 1, створила новий стандарт для мови C у 1995, але лише для того, щоб виправити деякі деталі стандарту C89 і додати обширнішу підтримку міжнародних наборів символів. Проте, стандарт піддався подальшому перегляду в кінці 1990-х, привівши до публікації ISO 9899:1999 у 1999 році. Цей стандарт зазвичай іменують, як «C99». Він був прийнятий, як стандарт ANSI у березні 2000.

Стандарт C99 ввів декілька нових особливостей, багато з яких вже були реалізовані у декількох компіляторах:

Вкладені функції
Змінні можуть оголошуватися будь-де (як у C++)
Введено декілька нових типів даних, зокрема, long long int, явний логічний (булевий) тип даних, і комплексний тип для представлення комплексних чисел
Масиви зі змінними довжинами
Підтримка коротких, однорядкових коментарів, що починаються з //, як у BCPL та C++
Нові бібліотечні функції, як наприклад sprintf
Нові заголовні файли, як то stdbool.h та inttypes.h
Вдосконалена підтримка стандарту IEEE для роботи з рухомою комою
Виправлено друкарські огріхи.
C99 сумісний з C90, однак, має деякі відмінності; зокрема, якщо в декларації ідентифікатора не вистачає специфікатора типу, змінна чи функція надалі не сприймається оголошеною неявно як int. Комітет стандартів вирішив, що важливіше, щоби компілятори діагностували неуважне упущення специфікатора типу, ніж мовчки обробляли код. На практиці, компілятори, ймовірно, діагностують упущення, але й приймають змінну оголошеною як int і продовжують переклад програми.

GCC та інші компілятори C наразі підтримують багато з нових можливостей C99. Проте, вони меншою мірою підтримуються компіляторами таких компаній, як Microsoft і Borland, котрі зосередилися переважно на C++, відтоді, як C++ забезпечує подібну функціональність.

### Стандарт C11
Міжнародна організація зі стандартизації (ISO) у грудні 2011 опублікувала оновлений варіант стандарту для мови Сі - ISO/IEC 9899:2011,[8] що був створений під кодовим ім'ям C1X і прийшов на зміну стандарту C99. Оскільки стандарт розвивався досить тривалий час, пройшовши стадії випуску декількох чорнових редакцій, сучасні компілятори, такі як GCC 4.6 і LLVM 3.0, уже підтримують більшість описаних у специфікації можливостей.

У новій специфікації збільшена сумісність з мовою С++ і представлені деякі нові можливості, такі як

* підтримка багатонитевості,
* підтримка Unicode,
* вилучена функція gets,
* інтерфейс для перевірки допустимих меж і діапазонів значень,
* анонімні структури та об'єднання (наприклад, можна вкласти блок union в struct),
* додаткова функція для миттєвого виходу з програми quick_exit,
* статичні твердження (Static assertions),
* задіяння додаткових макросів для перевірки чисел з плаваючою комою.
Фінальний текст стандарту не доступний для вільного завантаження (тільки платне завантаження), але можна завантажити останню чорнову редакцію (PDF, 3.6 Мб, 701 стор.), яка майже не відрізняється від затвердженої специфікації.


## Бібліотеки
Мова програмування С використовує бібліотеки, як основний засіб свого розширення. У С, бібліотека — набір функцій, котрі містяться в одному файлі. Кожна бібліотека зазвичай має заголовний файл, в якому містяться прототипи функцій, присутніх у бібліотеці, а також декларації спеціальних типів даних і макро-символів, що використовують ці функції. Для того, щоб програма використовувала бібліотеку, заголовний файл цієї бібліотеки має бути оголошений вгорі файлу із сирцевим кодом, і бібліотека має бути злінкованою з програмою, що у багатьох випадках вимагає спеціальної опції для компілятора (наприклад, -lmath).

Загальною бібліотекою С є стандартна бібліотека С stdlib.h, що вказана у ISO та ANSI C стандартах, і розповсюджується з кожним сучасним компілятором мови С.

Іншим загальним набором функцій стандартної бібліотеки С є той, що використовується застосунками. Проектувалися вони для UNIX-подібних систем, у першу чергу, для забезпечення інтерфейсу до ядра. Ці функції деталізуються у різноманітних стандартах, на кшталт POSIX та Single UNIX Specification.

Відтоді, як С набула великої популярності, для неї було написано чимало інших бібліотек. Бібліотеки часто пишуться на С, оскільки компілятори C генерують ефективний об'єктний код; пізніше програмісти створюють інтерфейси до бібліотек таким чином, що ті можуть використовуватися високорівневими мовами, на кшталт Java, Perl та Python.
